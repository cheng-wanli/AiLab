## **Aprior算法**

### **1、简介：**

​	apriori算法是常用的用于挖掘出数据关联规则的算法，它用来找出数据值中频繁出现的数据集合，找出这些集合的模式有助于我们做一些决策。
​	比如：在常见的超市购物数据集，或者电商的网购数据集中，如果我们找到了频繁出现的数据集，那么对于超市，我们可以优化产品的位置摆放；对于电商，我们可以优化商品所在的仓库位置，达到节约成本，增加经济效益的目的。

###  **2、相关术语**：

​	支持度support：数据集中包含该项集的数据所占数据集的比例，度量一个集合在原始数据中出现的频率
​	置信度confidence：是针对一条关联规则来定义的，a->b的置信度=支持度{a|b}/支持度{a}，a|b表示ab的并集

​	关联分析是一种在大规模数据集中寻找有趣关系的任务， 关联分析有两个目标：
​		a、发现频繁项集（frequent itemsets）：频繁项集是满足最小支持度要求的项集，它给出经常在一起出现的元素项
​		b、发现关联规则（associational rules）：暗示两个元素之间可能存在很强的关系。意味着元素项之间“如果…那么…”的关系

### **3、两个原理：**

​	a、如果某个项集是频繁的，那么它的所有子集也是频繁的
​	b、如果某个项集是非频繁的，那么它的所有超集也是非频繁的
​	基于此，apriori算法从单元素项集开始，通过组合满足最小支持度的项集来形成更大的集合

​	该算法采用迭代查询的思想，首先寻找一次频繁项，然后在一次频繁项的基础上寻找二次频繁项，依次递推下去。

### 4、例子：

![img](https://images2015.cnblogs.com/blog/1042406/201701/1042406-20170117161036255-1753157633.png)



### 5、算法步骤：**

​	输入：数据集， 支持度阈值

​	输出：最大的频繁K项集

​	1）扫描整个数据集，得到所有出现过的数据 ，作为一次候选项。k=1，频繁0项集为空集。
​	2）计算频繁k项集：

​		a）扫描数据，计算候选项的支持度（元素出现次数 / 数据集大小）

​		b） 去除候选k项集中支持度低于阈值的数据集，得到频繁k项集。算法有两个结束条件：

​		如果得到的频繁k项集为空，则直接返回频繁k-1项集的集合作为算法的结果，算法结束；

​		如果得到的频繁k项集只有一项（无法再生成k+1项候选集），则直接返回频繁k项集的集合作为算法的结果，算法结束。

​		c）基于频繁k项集。连接生成候选频繁k+1项集。这里在连接时，两个k项集必须有交集（有k-1个元素相同）才可以连接。

​	3）令k = k+1，转入步骤2

### 6、**总结**：

​	从算法的步骤可以看出，apriori算法每轮迭代都要扫描数据集，因此在数据集很大，数据种类很多的时候，算法效率很低。

​	Apriori算法是一个非常经典的频繁项集的挖掘算法，很多算法都是基于Aprior算法而产生的，包括FP-Tree，GSP， CBA等。这些算法利用了Aprior算法的思想，但是对算法做了改进，数据挖掘效率更好一些，因此现在一般很少直接用Aprior算法来挖掘数据了，但是理解Aprior算法是理解其它Aprior类算法的前提，同时算法本身也不复杂，因此值得好好研究一番。




